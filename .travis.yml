language: node_js
node_js: 15

jobs:
  include:
    - stage: test
      cache: npm
      before_script:
        - cd packages/api
      script:
        - npm run test
    - stage: test
      cache: npm
      before_install:
        - cd packages/client
      script:
        - npm run test:unit
branches:
  only:
    - master
    - development
    - refactor/52-refactor-client-code-to-use-store